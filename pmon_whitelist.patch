From e4814dc9eefbe1495a0b2ff6e3f018c0e27bdae7 Mon Sep 17 00:00:00 2001
From: Steve Sylvester <steve.s.sylvester@intel.com>
Date: Wed, 22 Apr 2015 14:34:33 -0700
Subject: [PATCH] Adding PMON MSR definitions to the whitelist

---
 msr-supplemental.h |   50 +++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 49 insertions(+), 1 deletions(-)

diff --git a/msr-supplemental.h b/msr-supplemental.h
index 8f062c8..822c89b 100644
--- a/msr-supplemental.h
+++ b/msr-supplemental.h
@@ -324,7 +324,55 @@ SMSR_ENTRY( SMSR_PKG_POWER_LIMIT,	0x610,	0x00FFFFFF, 0x00FFFFFF),\
 SMSR_ENTRY( SMSR_PKG_ENERGY_STATUS,	0x611,	0x0,        0x0       ),\
 SMSR_ENTRY( SMSR_PKG_POWER_INFO,	0x614,	0x0,        0x0       ),\
 SMSR_ENTRY( SMSR_PP0_POWER_LIMIT,	0x638,	0x00FFFFFF, 0x0       ),\
-SMSR_ENTRY( SMSR_PP0_ENERGY_STATUS,	0x639,	0x0,        0x0       ),
+SMSR_ENTRY( SMSR_PP0_ENERGY_STATUS,	0x639,	0x0,        0x0       ),\
+SMSR_ENTRY( SMSR_C0_MSR_PMON_BOX_CTL,	0x0D04,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C1_MSR_PMON_BOX_CTL,	0x0D24,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C2_MSR_PMON_BOX_CTL,	0x0D44,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C3_MSR_PMON_BOX_CTL,	0x0D64,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C4_MSR_PMON_BOX_CTL,	0x0D84,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C5_MSR_PMON_BOX_CTL,	0x0DA4,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C6_MSR_PMON_BOX_CTL,	0x0DC4,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C7_MSR_PMON_BOX_CTL,	0x0DE4,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C0_MSR_PMON_BOX_FILTER,0x0D14,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C1_MSR_PMON_BOX_FILTER,0x0D34,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C2_MSR_PMON_BOX_FILTER,0x0D54,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C3_MSR_PMON_BOX_FILTER,0x0D74,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C4_MSR_PMON_BOX_FILTER,0x0D94,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C5_MSR_PMON_BOX_FILTER,0x0DB4,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C6_MSR_PMON_BOX_FILTER,0x0DD4,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C7_MSR_PMON_BOX_FILTER,0x0DF4,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C0_MSR_PMON_CTL0,	0x0D10,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C1_MSR_PMON_CTL0,	0x0D30,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C2_MSR_PMON_CTL0,	0x0D50,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C3_MSR_PMON_CTL0,	0x0D70,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C4_MSR_PMON_CTL0,	0x0D90,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C5_MSR_PMON_CTL0,	0x0DB0,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C6_MSR_PMON_CTL0,	0x0DD0,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C7_MSR_PMON_CTL0,	0x0DF0,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C0_MSR_PMON_CTL1,	0x0D11,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C1_MSR_PMON_CTL1,	0x0D31,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C2_MSR_PMON_CTL1,	0x0D51,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C3_MSR_PMON_CTL1,	0x0D71,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C4_MSR_PMON_CTL1,	0x0D91,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C5_MSR_PMON_CTL1,	0x0DB1,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C6_MSR_PMON_CTL1,	0x0DD1,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C7_MSR_PMON_CTL1,	0x0DF1,	0xFFFFFFFF, 0xFFFFFFFF),\
+SMSR_ENTRY( SMSR_C0_MSR_PMON_CTR0,	0x0D16,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C1_MSR_PMON_CTR0,	0x0D36,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C2_MSR_PMON_CTR0,	0x0D56,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C3_MSR_PMON_CTR0,	0x0D76,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C4_MSR_PMON_CTR0,	0x0D96,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C5_MSR_PMON_CTR0,	0x0DB6,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C6_MSR_PMON_CTR0,	0x0DD6,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C7_MSR_PMON_CTR0,	0x0DF6,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C0_MSR_PMON_CTR1,	0x0D17,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C1_MSR_PMON_CTR1,	0x0D37,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C2_MSR_PMON_CTR1,	0x0D57,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C3_MSR_PMON_CTR1,	0x0D77,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C4_MSR_PMON_CTR1,	0x0D97,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C5_MSR_PMON_CTR1,	0x0DB7,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C6_MSR_PMON_CTR1,	0x0DD7,	0x0       , 0x0       ),\
+SMSR_ENTRY( SMSR_C7_MSR_PMON_CTR1,	0x0DF7,	0x0       , 0x0       ),
 
 #endif	//Table 35-15
 
-- 
1.7.1

